const { ethers } = require('ethers');

const provider = new ethers.WebSocketProvider(`ws://localhost:8545`);
const deployerPrivateKey = '0x675a916e0fa4bfa9435cafb158173059bc3057bbabd11016ede6f3b7d37add3b';
const wallet = new ethers.Wallet(deployerPrivateKey, provider);

// The contract bytecode
const bytecode = `0x60c06040523480156200001157600080fd5b506040516200199c3803806200199c833981016040819052620000349162000612565b8851899089906200004d90600390602085019062000482565b5080516200006390600490602084019062000482565b5050506001600160a01b038116620000c25760405162461bcd60e51b815260206004820152601560248201527f696e76616c69642061646d696e2061646472657373000000000000000000000060448201526064015b60405180910390fd5b6001600160a01b0385166200011a5760405162461bcd60e51b815260206004820152601760248201527f696e76616c6964206d696e7465725f20616464726573730000000000000000006044820152606401620000b9565b6001600160a01b038316620001725760405162461bcd60e51b815260206004820181905260248201527f696e76616c696420696e6974446973747257616c6c65745f20616464726573736044820152606401620000b9565b60ff8716620001b75760405162461bcd60e51b815260206004820152601060248201526f696e76616c696420646563696d616c7360801b6044820152606401620000b9565b85620001fa5760405162461bcd60e51b8152602060048201526011602482015270696e76616c6964206d6178537570706c7960781b6044820152606401620000b9565b6b033b2e3c9fd0803ce8000000861115620002585760405162461bcd60e51b815260206004820152601360248201527f6d6178537570706c7920746f6f206c61726765000000000000000000000000006044820152606401620000b9565b858210620002a95760405162461bcd60e51b815260206004820152601860248201527f496e697469616c20737570706c7920746f6f206c6172676500000000000000006044820152606401620000b9565b60ff871660805260a0869052600680546001600160a01b038088166001600160a01b03199283161790925560058690556007805492841692909116919091179055620002f68383620003bf565b6006546009546040516001600160a01b0392831692909116907ffb80f39493422136408edd986f7ca83c10534204422dd1dfebb055de4ef0fd5390600090a3600754600b546040516001600160a01b0392831692909116907fcd6ba6b7da89e039d53b5d981527a893755342bb9d8e5c2f61f6638f1fb5192b90600090a37fd65d781db82f0bd55f732ea1b96f4c6565750df815c18a70962cd8405274e243600554604051620003a891815260200190565b60405180910390a150505050505050505062000750565b6001600160a01b038216620004175760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f2061646472657373006044820152606401620000b9565b80600260008282546200042b9190620006ec565b90915550506001600160a01b038216600081815260208181526040808320805486019055518481527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a35050565b828054620004909062000713565b90600052602060002090601f016020900481019282620004b45760008555620004ff565b82601f10620004cf57805160ff1916838001178555620004ff565b82800160010185558215620004ff579182015b82811115620004ff578251825591602001919060010190620004e2565b506200050d92915062000511565b5090565b5b808211156200050d576000815560010162000512565b634e487b7160e01b600052604160045260246000fd5b600082601f8301126200055057600080fd5b81516001600160401b03808211156200056d576200056d62000528565b604051601f8301601f19908116603f0116810190828211818310171562000598576200059862000528565b81604052838152602092508683858801011115620005b557600080fd5b600091505b83821015620005d95785820183015181830184015290820190620005ba565b83821115620005eb5760008385830101525b9695505050505050565b80516001600160a01b03811681146200060d57600080fd5b919050565b60008060008060008060008060006101208a8c0312156200063257600080fd5b89516001600160401b03808211156200064a57600080fd5b620006588d838e016200053e565b9a5060208c01519150808211156200066f57600080fd5b506200067e8c828d016200053e565b98505060408a015160ff811681146200069657600080fd5b60608b01519097509550620006ae60808b01620005f5565b945060a08a01519350620006c560c08b01620005f5565b925060e08a01519150620006dd6101008b01620005f5565b90509295985092959850929598565b600082198211156200070e57634e487b7160e01b600052601160045260246000fd5b500190565b600181811c908216806200072857607f821691505b602082108114156200074a57634e487b7160e01b600052602260045260246000fd5b50919050565b60805160a0516112036200079960003960008181610366015281816107b40152818161082401528181610a1801528181610a490152610a7d0152600061026601526112036000f3fe608060405234801561001057600080fd5b50600436106101735760003560e01c80634dd18bf5116100de578063a457c2d711610097578063d3b2f59811610071578063d3b2f59814610359578063d5abeb0114610361578063dd62ed3e14610388578063f851a4401461039b57600080fd5b8063a457c2d714610320578063a9059cbb14610333578063ab8e786f1461034657600080fd5b80634dd18bf5146102a35780634eb03f6e146102b657806370a08231146102c9578063909d6cb4146102f257806395d89b4114610305578063a0712d681461030d57600080fd5b806323b872dd1161013057806323b872dd1461021c57806324e770d01461022f578063267822471461023757806329fb7ef61461024a578063313ce5671461025f578063395093511461029057600080fd5b806306fdde03146101785780630754617214610196578063095ea7b3146101c15780630b064976146101e457806318160ddd146101f75780632147425f14610209575b600080fd5b6101806103ae565b60405161018d9190610fbf565b60405180910390f35b6006546101a9906001600160a01b031681565b6040516001600160a01b03909116815260200161018d565b6101d46101cf366004611030565b610440565b604051901515815260200161018d565b600b546101a9906001600160a01b031681565b6002545b60405190815260200161018d565b6009546101a9906001600160a01b031681565b6101d461022a36600461105a565b61045a565b6005546101fb565b6008546101a9906001600160a01b031681565b61025d610258366004611096565b61047e565b005b60405160ff7f000000000000000000000000000000000000000000000000000000000000000016815260200161018d565b6101d461029e366004611030565b6104ec565b61025d6102b13660046110af565b61050e565b61025d6102c43660046110af565b6105ec565b6101fb6102d73660046110af565b6001600160a01b031660009081526020819052604090205490565b600a546101a9906001600160a01b031681565b6101806106c3565b61025d61031b366004611096565b6106d2565b6101d461032e366004611030565b6108b4565b6101d4610341366004611030565b61092f565b6101d4610354366004611030565b61093d565b61025d610aaf565b6101fb7f000000000000000000000000000000000000000000000000000000000000000081565b6101fb6103963660046110ca565b610b74565b6007546101a9906001600160a01b031681565b6060600380546103bd906110fd565b80601f01602080910402602001604051908101604052809291908181526020018280546103e9906110fd565b80156104365780601f1061040b57610100808354040283529160200191610436565b820191906000526020600020905b81548152906001019060200180831161041957829003601f168201915b5050505050905090565b60003361044e818585610b9f565b60019150505b92915050565b600033610468858285610cc3565b610473858585610d3d565b506001949350505050565b6007546001600160a01b031633146104b15760405162461bcd60e51b81526004016104a890611138565b60405180910390fd5b60058190556040518181527fd65d781db82f0bd55f732ea1b96f4c6565750df815c18a70962cd8405274e2439060200160405180910390a150565b60003361044e8185856104ff8383610b74565b6105099190611185565b610b9f565b6007546001600160a01b031633146105385760405162461bcd60e51b81526004016104a890611138565b6001600160a01b03811661058e5760405162461bcd60e51b815260206004820152601d60248201527f696e76616c69642070656e64696e672061646d696e206164647265737300000060448201526064016104a8565b60088054600a80546001600160a01b03199081166001600160a01b03808516918217909355918516921682179092556040519091907fed1a3b5dea5773c7660d05cc9884b43f5e8e0b581713e873f013560558890f4990600090a350565b6007546001600160a01b031633146106165760405162461bcd60e51b81526004016104a890611138565b6001600160a01b0381166106655760405162461bcd60e51b8152602060048201526016602482015275696e76616c6964206d696e746572206164647265737360501b60448201526064016104a8565b60068054600980546001600160a01b03199081166001600160a01b03808516918217909355918516921682179092556040519091907ffb80f39493422136408edd986f7ca83c10534204422dd1dfebb055de4ef0fd5390600090a350565b6060600480546103bd906110fd565b6007546001600160a01b031633146106fc5760405162461bcd60e51b81526004016104a890611138565b6007546001600160a01b0316331461074c5760405162461bcd60e51b81526020600482015260136024820152721bdb9b1e4818591b5a5b8818d85b881b5a5b9d606a1b60448201526064016104a8565b6000306001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561078c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906107b0919061119d565b90507f00000000000000000000000000000000000000000000000000000000000000008111156108225760405162461bcd60e51b815260206004820152601b60248201527f616c7265616479206578636565646564206d617820737570706c79000000000060448201526064016104a8565b7f000000000000000000000000000000000000000000000000000000000000000061084d8284610ee1565b1061089a5760405162461bcd60e51b815260206004820152601d60248201527f6578636565646564206d617820737570706c79206f6620746f6b656e7300000060448201526064016104a8565b6007546108b0906001600160a01b031683610ef4565b5050565b600033816108c28286610b74565b9050838110156109225760405162461bcd60e51b815260206004820152602560248201527f45524332303a2064656372656173656420616c6c6f77616e63652062656c6f77604482015264207a65726f60d81b60648201526084016104a8565b6104738286868403610b9f565b60003361044e818585610d3d565b6006546000906001600160a01b0316331461099a5760405162461bcd60e51b815260206004820152601e60248201527f4f6e6c79206d696e7465722063616e206d616b6520746869732063616c6c000060448201526064016104a8565b6001600160a01b0383166109b057506000610454565b6000306001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa1580156109f0573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610a14919061119d565b90507f00000000000000000000000000000000000000000000000000000000000000008110610a47576000915050610454565b7f0000000000000000000000000000000000000000000000000000000000000000610a728285610ee1565b1115610aa557610aa27f000000000000000000000000000000000000000000000000000000000000000082610fb3565b92505b61044e8484610ef4565b6008546001600160a01b03163314610b175760405162461bcd60e51b815260206004820152602560248201527f4f6e6c792070656e64696e672061646d696e2063616e206d616b6520746869736044820152640818d85b1b60da1b60648201526084016104a8565b60078054600b80546001600160a01b038084166001600160a01b0319928316811790935560085416921682179092556040519091907fcd6ba6b7da89e039d53b5d981527a893755342bb9d8e5c2f61f6638f1fb5192b90600090a3565b6001600160a01b03918216600090815260016020908152604080832093909416825291909152205490565b6001600160a01b038316610c015760405162461bcd60e51b8152602060048201526024808201527f45524332303a20617070726f76652066726f6d20746865207a65726f206164646044820152637265737360e01b60648201526084016104a8565b6001600160a01b038216610c625760405162461bcd60e51b815260206004820152602260248201527f45524332303a20617070726f766520746f20746865207a65726f206164647265604482015261737360f01b60648201526084016104a8565b6001600160a01b0383811660008181526001602090815260408083209487168084529482529182902085905590518481527f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925910160405180910390a3505050565b6000610ccf8484610b74565b90506000198114610d375781811015610d2a5760405162461bcd60e51b815260206004820152601d60248201527f45524332303a20696e73756666696369656e7420616c6c6f77616e636500000060448201526064016104a8565b610d378484848403610b9f565b50505050565b6001600160a01b038316610da15760405162461bcd60e51b815260206004820152602560248201527f45524332303a207472616e736665722066726f6d20746865207a65726f206164604482015264647265737360d81b60648201526084016104a8565b6001600160a01b038216610e035760405162461bcd60e51b815260206004820152602360248201527f45524332303a207472616e7366657220746f20746865207a65726f206164647260448201526265737360e81b60648201526084016104a8565b6001600160a01b03831660009081526020819052604090205481811015610e7b5760405162461bcd60e51b815260206004820152602660248201527f45524332303a207472616e7366657220616d6f756e7420657863656564732062604482015265616c616e636560d01b60648201526084016104a8565b6001600160a01b03848116600081815260208181526040808320878703905593871680835291849020805487019055925185815290927fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a3610d37565b6000610eed8284611185565b9392505050565b6001600160a01b038216610f4a5760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f20616464726573730060448201526064016104a8565b8060026000828254610f5c9190611185565b90915550506001600160a01b038216600081815260208181526040808320805486019055518481527fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef910160405180910390a35050565b6000610eed82846111b6565b600060208083528351808285015260005b81811015610fec57858101830151858201604001528201610fd0565b81811115610ffe576000604083870101525b50601f01601f1916929092016040019392505050565b80356001600160a01b038116811461102b57600080fd5b919050565b6000806040838503121561104357600080fd5b61104c83611014565b946020939093013593505050565b60008060006060848603121561106f57600080fd5b61107884611014565b925061108660208501611014565b9150604084013590509250925092565b6000602082840312156110a857600080fd5b5035919050565b6000602082840312156110c157600080fd5b610eed82611014565b600080604083850312156110dd57600080fd5b6110e683611014565b91506110f460208401611014565b90509250929050565b600181811c9082168061111157607f821691505b6020821081141561113257634e487b7160e01b600052602260045260246000fd5b50919050565b6020808252601d908201527f4f6e6c792061646d696e2063616e206d616b6520746869732063616c6c000000604082015260600190565b634e487b7160e01b600052601160045260246000fd5b600082198211156111985761119861116f565b500190565b6000602082840312156111af57600080fd5b5051919050565b6000828210156111c8576111c861116f565b50039056fea26469706673582212209c39db8cfa5d4ca00412de57321d5fc6abce4d5a1eae27f3535c75e9711228cd64736f6c634300080b00330000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000033b2e3c9fd0803ce8000000000000000000000000000000f0716e6221618137fb05d72450e0fc8d9c2919d40000000000000000000000000000000000000000000000008ac7230489e80000000000000000000000000000d49baa6a619fc87bc56e0f8970f9fe6aeaeb4f13000000000000000000000000000000000000000001f04ef12cb04cf158000000000000000000000000000000b03206f950af7e2f723e8486f231ef0382bbc01b000000000000000000000000000000000000000000000000000000000000000c5265706c617920546f6b656e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000552504c4159000000000000000000000000000000000000000000000000000000`

// The encoded constructor arguments
const constructorArgs = '0000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000000000000000000000000016000000000000000000000000000000000000000000000000000000000000000120000000000000000000000000000000000000000033b2e3c9fd0803ce8000000000000000000000000000000f0716e6221618137fb05d72450e0fc8d9c2919d40000000000000000000000000000000000000000000000008ac7230489e80000000000000000000000000000d49baa6a619fc87bc56e0f8970f9fe6aeaeb4f13000000000000000000000000000000000000000001f04ef12cb04cf158000000000000000000000000000000b03206f950af7e2f723e8486f231ef0382bbc01b000000000000000000000000000000000000000000000000000000000000000c5265706c617920546f6b656e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000552504c4159000000000000000000000000000000000000000000000000000000'; // Already part of your bytecode if appended

// Combine bytecode with constructor arguments
const fullBytecode = bytecode + constructorArgs;

// Deploy the contract
async function deployContract() {
    // Create a Contract Factory
    const factory = new ethers.ContractFactory([], fullBytecode, wallet);

    // Deploy the contract
    const contract = await factory.deploy();

    // The address can be known beforehand using the method described above
    console.log('Contract Address:', contract.target);
}

deployContract().catch(console.error);

//  Contract created: 0x582a5e1b7c893df82993b92e5ea5bc6df16b81af
//  Contract created: 0x764e75692bac03d8420ce52e28cc926e103f8ec1
//  Contract created: 0x491f6cce029f97e0f91cfa165f2f6678423b92a2

// On my tests

/*
❯ node migrations/0_deploy-replay.js
    Contract Address: 0x582a5e1b7c893df82993B92E5eA5Bc6df16b81AF
❯ node migrations/0_deploy-replay.js
    Contract Address: 0x764E75692baC03D8420Ce52E28cC926E103f8eC1
❯ node migrations/0_deploy-replay.js
    Contract Address: 0x491f6cCe029F97E0F91cFa165F2f6678423B92a2
*/